<ui:ContentDialog
    x:Class="BloodReg.Views.Dialogs.DatabaseImportDialog"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:BloodReg.Views.Dialogs"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
    xmlns:ws="https://schemas.elecho.dev/wpfsuite"
    d:DataContext="{d:DesignInstance Type=local:DatabaseImportDialog,
                                     IsDesignTimeCreatable=False}"
    d:DesignHeight="660"
    d:DesignWidth="1244"
    ui:Design.Background="{DynamicResource ApplicationBackgroundBrush}"
    ui:Design.Foreground="{DynamicResource TextFillColorPrimaryBrush}"
    Foreground="{DynamicResource TextFillColorPrimaryBrush}"
    ScrollViewer.CanContentScroll="False"
    mc:Ignorable="d">

    <Grid Background="{DynamicResource ControlFillColorDefaultBrush}" RowDefinitions="*,*,*">
        <Border
            Grid.Row="1"
            Margin="128,0,128,0"
            Background="{DynamicResource ApplicationBackgroundBrush}"
            CornerRadius="4">
            <Grid>
                <Grid Margin="32,24,32,24" RowDefinitions="Auto, *">
                    <DockPanel ws:Grid.Row="0">
                        <ws:StackPanel HorizontalAlignment="Left" Spacing="4">
                            <ui:TextBlock
                                FontSize="32"
                                FontTypography="Title"
                                Text="导入数据" />
                            <ui:TextBlock
                                Appearance="Secondary"
                                FontSize="16"
                                Text="选择导入方式" />
                        </ws:StackPanel>
                        <ui:Button
                            Width="40"
                            Height="40"
                            Margin="0,4,0,4"
                            Padding="0"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Top"
                            Click="CloseButton_Click"
                            FontSize="24"
                            Icon="{ui:SymbolIcon Dismiss24}"
                            MouseOverBackground="{DynamicResource PaletteRedBrush}"
                            PressedBackground="{StaticResource RemoveButtonIsPressedBackground}" />
                    </DockPanel>
                    <Grid
                        Grid.Row="1"
                        Margin="0,16,0,0"
                        ColumnDefinitions="*,*">
                        <ui:CardAction
                            x:Name="excel"
                            Margin="0,0,8,8"
                            Padding="0"
                            VerticalAlignment="Stretch"
                            ws:Grid.Column="0"
                            Click="Card_Click"
                            IsChevronVisible="False">
                            <ui:TextBlock
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                FontSize="36"
                                Text="从Excel" />
                        </ui:CardAction>
                        <ui:CardAction
                            x:Name="db"
                            Margin="8,0,0,8"
                            Padding="0"
                            VerticalAlignment="Stretch"
                            ws:Grid.Column="1"
                            Click="Card_Click"
                            IsChevronVisible="False">
                            <ui:TextBlock
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                FontSize="36"
                                Text="从数据库(db)" />
                        </ui:CardAction>
                    </Grid>
                </Grid>
                <Grid
                    HorizontalAlignment="Stretch"
                    VerticalAlignment="Stretch"
                    Background="{DynamicResource ControlFillColorDefaultBrush}"
                    Visibility="{Binding ViewModel.IsImporting, Converter={StaticResource BoolToVisibilityConverter}}">
                    <ws:StackPanel
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        Orientation="Horizontal"
                        Spacing="32">
                        <ui:ProgressRing
                            Width="100"
                            Height="100"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            IsIndeterminate="{Binding ViewModel.IsImporting}" />
                        <ui:TextBlock
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            FontSize="48"
                            FontTypography="Subtitle"
                            Text="正在导入" />
                    </ws:StackPanel>
                </Grid>
            </Grid>
        </Border>
    </Grid>
</ui:ContentDialog>
